<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="popup.css">
  <title>Digestify</title>
</head>
<body>
  <!-- Header -->
  <div class="header">
    <h1>Digestify</h1>
    <button id="refresh-btn" class="refresh-btn" title="Refresh">
      <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" fill="currentColor"/>
      </svg>
    </button>
  </div>

  <!-- Stats -->
  <div class="stats">
    <div class="stat-item">
      <span class="stat-label">Unread</span>
      <span id="unread-count" class="stat-value">--</span>
    </div>
    <div class="stat-divider"></div>
    <div class="stat-item">
      <span class="stat-label urgent-label">Urgent</span>
      <span id="urgent-total" class="stat-value urgent-value">--</span>
    </div>
    <div class="stat-divider"></div>
    <div class="stat-item">
      <span class="stat-label">Later</span>
      <span id="later-total" class="stat-value">--</span>
    </div>
  </div>

  <!-- View Container -->
  <div class="view-container">
    
    <!-- Main View -->
    <div class="view main-view active">
      <div class="content">
        
        <!-- Urgent Section -->
    <div class="section">
      <div class="section-header">
        <h2 class="urgent-text">Urgent</h2>
      </div>
      
      <div class="inbox-group">
        <div class="inbox-header">
          <span class="inbox-label">Work</span>
          <span id="work-urgent-count" class="inbox-count">--</span>
        </div>
      </div>

      <div class="inbox-group">
        <div class="inbox-header">
          <span class="inbox-label">School</span>
          <span id="school-urgent-count" class="inbox-count">--</span>
        </div>
      </div>

      <div class="inbox-group">
        <div class="inbox-header">
          <span class="inbox-label">Personal</span>
          <span id="personal-urgent-count" class="inbox-count">--</span>
        </div>
      </div>
    </div>

    <!-- Later Section -->
    <div class="section">
      <div class="section-header">
        <h2>Later</h2>
      </div>
      
      <div class="inbox-group">
        <div class="inbox-header">
          <span class="inbox-label">Work</span>
          <span id="work-later-count" class="inbox-count">--</span>
        </div>
      </div>

      <div class="inbox-group">
        <div class="inbox-header">
          <span class="inbox-label">School</span>
          <span id="school-later-count" class="inbox-count">--</span>
        </div>
      </div>

      <div class="inbox-group">
        <div class="inbox-header">
          <span class="inbox-label">Personal</span>
          <span id="personal-later-count" class="inbox-count">--</span>
        </div>
      </div>
      </div>

    </div>
    </div>

    <!-- Detail View -->
    <div class="view detail-view">
      <div class="detail-header">
        <button id="back-btn" class="back-btn">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" fill="currentColor"/>
          </svg>
        </button>
        <div class="detail-title">
          <h3 id="detail-category">Personal</h3>
          <span id="detail-priority" class="detail-priority">Urgent</span>
        </div>
      </div>
      
      <div class="detail-content">
        <div id="email-summaries" class="email-summaries">
          <!-- Email summaries will be inserted here -->
          <div class="empty-state">
            <p>No emails to display</p>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- Loading -->
  <div id="loading-overlay" class="loading-overlay hidden">
    <div class="loading-spinner"></div>
    <p class="loading-text">Analyzing your emails...</p>
  </div>

  <script src="popup.js"></script>
</body>
</html>